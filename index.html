<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VYNTAR Marketplace Intelligence - Join the First 20</title>
  <meta property="og:title" content="VYNTAR - AI Intelligence for Marketplace Sellers">
  <meta property="og:description" content="Stop losing sales to chaos. Track conversations, score buyers, never miss a follow-up.">

  <!-- React + Babel (for single-file build) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Supabase JS -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    body { font-family: 'Inter', sans-serif; background:#000; color:#0f0; overflow-x:hidden; }
    .glow { text-shadow: 0 0 10px rgba(0,255,0,.8), 0 0 20px rgba(0,255,0,.6), 0 0 30px rgba(0,255,0,.4); }
    .glow-border { box-shadow: 0 0 20px rgba(0,255,0,.3), inset 0 0 20px rgba(0,255,0,.1); }
    .matrix-bg { background: linear-gradient(180deg,#000 0%,#001a00 50%,#000 100%); }
    .gradient-text { background: linear-gradient(135deg,#00ff00 0%,#00cc00 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
    .btn-primary { background: linear-gradient(135deg,#00ff00 0%,#00cc00 100%); transition: all .2s ease; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,255,0,.35); }
    .card { background: rgba(0,26,0,.3); border: 1px solid rgba(0,255,0,.2); backdrop-filter: blur(10px); transition: all .2s ease; }
    .card:hover { border-color: rgba(0,255,0,.5); transform: translateY(-3px); }
    input,select,textarea { background: rgba(0,0,0,.8)!important; border: 1px solid rgba(0,255,0,.3)!important; color:#0f0!important; }
    input:focus,select:focus,textarea:focus { border-color:#0f0!important; box-shadow:0 0 15px rgba(0,255,0,.25)!important; outline:none!important; }
    ::placeholder { color: rgba(0,255,0,.5)!important; }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // =========================================================
    // âœ… PASTE YOUR NEW SUPABASE DETAILS HERE
    // (URL looks like https://xxxxx.supabase.co)
    // (ANON KEY is the long one starting with eyJhbGciOi...)
    // =========================================================
    const SUPABASE_URL = "PASTE_YOUR_SUPABASE_URL_HERE";
    const SUPABASE_ANON_KEY = "PASTE_YOUR_SUPABASE_ANON_KEY_HERE";

    // âœ… Table name where founders are stored
    // If your table is different, change it here.
    const FOUNDERS_TABLE = "founder_signups";

    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    console.log("âœ… Supabase connected:", SUPABASE_URL);

    const ArrowRight = () => (
      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7l5 5m0 0l-5 5m5-5H6" />
      </svg>
    );

    const CheckCircle = () => (
      <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    );

    const AlertCircle = () => (
      <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    );

    function FounderSignUpForm() {
      const [formData, setFormData] = useState({
        name: "",
        email: "",
        phone: "",
        marketplace: "",
        revenue: "",
        painPoint: ""
      });

      const [status, setStatus] = useState("idle"); // idle | loading | success | error
      const [banner, setBanner] = useState("");

      const handleChange = (e) => {
        setFormData(prev => ({ ...prev, [e.target.name]: e.target.value }));
      };

      const handleSubmit = async (e) => {
        e.preventDefault();
        setStatus("loading");
        setBanner("");

        try {
          if (!formData.name.trim() || !formData.email.trim()) {
            throw new Error("Name and email are required.");
          }

          // âœ… Insert founder signup
          const { error } = await supabase
            .from(FOUNDERS_TABLE)
            .insert([{
              name: formData.name.trim(),
              email: formData.email.trim().toLowerCase(),
              phone: formData.phone?.trim() || null,
              current_marketplace: formData.marketplace || null,
              monthly_revenue: formData.revenue || null,
              biggest_pain_point: formData.painPoint || null,
              source: "founder_edition",
              status: "new"
            }]);

          if (error) throw error;

          setStatus("success");
          setBanner("ðŸŽ‰ You're in. Founder Edition secured. We'll email next steps.");
          setFormData({ name:"", email:"", phone:"", marketplace:"", revenue:"", painPoint:"" });

          setTimeout(() => { setStatus("idle"); setBanner(""); }, 5000);

        } catch (err) {
          console.error("âŒ Signup error:", err);
          setStatus("error");
          setBanner("âŒ " + (err?.message || "Something went wrong."));

          setTimeout(() => { setStatus("idle"); setBanner(""); }, 6000);
        }
      };

      return (
        <div className="max-w-2xl mx-auto p-8 card rounded-xl glow-border">
          <h2 className="text-4xl font-bold text-green-400 mb-2 glow">Founder Edition Access</h2>
          <p className="text-green-300/80 mb-6">
            First 20 founders lock in the best rate + early access.
          </p>

          {banner && (
            <div className={`mb-6 p-4 rounded-lg border flex items-start gap-3 ${
              status === "success"
                ? "bg-green-500/20 border-green-500 text-green-400"
                : "bg-red-500/20 border-red-500 text-red-400"
            }`}>
              {status === "success" ? <CheckCircle /> : <AlertCircle />}
              <span>{banner}</span>
            </div>
          )}

          <form onSubmit={handleSubmit} className="space-y-5">
            <div>
              <label className="block text-green-400 mb-2 text-sm font-semibold">Full Name *</label>
              <input className="w-full px-4 py-3 rounded-lg" name="name" value={formData.name} onChange={handleChange} required placeholder="David Heatley" />
            </div>

            <div>
              <label className="block text-green-400 mb-2 text-sm font-semibold">Email *</label>
              <input className="w-full px-4 py-3 rounded-lg" type="email" name="email" value={formData.email} onChange={handleChange} required placeholder="dave@example.com" />
            </div>

            <div>
              <label className="block text-green-400 mb-2 text-sm font-semibold">Phone (optional)</label>
              <input className="w-full px-4 py-3 rounded-lg" name="phone" value={formData.phone} onChange={handleChange} placeholder="07..." />
            </div>

            <div>
              <label className="block text-green-400 mb-2 text-sm font-semibold">Where do you sell?</label>
              <select className="w-full px-4 py-3 rounded-lg" name="marketplace" value={formData.marketplace} onChange={handleChange}>
                <option value="">Select...</option>
                <option value="facebook_marketplace">Facebook Marketplace</option>
                <option value="ebay">eBay</option>
                <option value="gumtree">Gumtree</option>
                <option value="vinted">Vinted</option>
                <option value="depop">Depop</option>
                <option value="multiple">Multiple Platforms</option>
              </select>
            </div>

            <div>
              <label className="block text-green-400 mb-2 text-sm font-semibold">Monthly revenue (estimate)</label>
              <select className="w-full px-4 py-3 rounded-lg" name="revenue" value={formData.revenue} onChange={handleChange}>
                <option value="">Select...</option>
                <option value="0-200">Â£0 - Â£200</option>
                <option value="200-500">Â£200 - Â£500</option>
                <option value="500-1000">Â£500 - Â£1,000</option>
                <option value="1000-2000">Â£1,000 - Â£2,000</option>
                <option value="2000+">Â£2,000+</option>
              </select>
            </div>

            <div>
              <label className="block text-green-400 mb-2 text-sm font-semibold">Biggest pain point</label>
              <textarea className="w-full px-4 py-3 rounded-lg resize-none" rows="4"
                name="painPoint" value={formData.painPoint} onChange={handleChange}
                placeholder="e.g. Too many time-wasters, slow replies, losing buyers..."
              />
            </div>

            <button
              type="submit"
              disabled={status === "loading"}
              className="w-full py-4 px-6 btn-primary text-black font-bold text-lg rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
            >
              {status === "loading" ? "Securing your spot..." : <>Join Founder Edition <ArrowRight /></>}
            </button>

            <p className="text-sm text-green-300/60 text-center">
              No service-role keys. Only anon key. Safe for frontend.
            </p>
          </form>
        </div>
      );
    }

    function App() {
      return (
        <div className="matrix-bg min-h-screen">
          <div className="container mx-auto px-4 py-16">
            <div className="text-center mb-14">
              <div className="inline-block mb-5 px-6 py-2 border border-green-500/50 rounded-full text-green-400 text-sm font-semibold glow-border">
                FOUNDER'S EDITION
              </div>
              <h1 className="text-6xl md:text-7xl font-bold mb-4">
                <span className="gradient-text glow">VYNTAR</span>
              </h1>
              <p className="text-xl md:text-2xl text-green-300/70 max-w-3xl mx-auto">
                The AI intelligence layer for Marketplace sellers â€” stop losing sales to chaos.
              </p>
            </div>

            <FounderSignUpForm />

            <div className="text-center text-green-300/50 text-sm border-t border-green-500/20 mt-14 pt-8">
              <p>Â© 2026 VYNTAR. Built for Marketplace sellers.</p>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>
